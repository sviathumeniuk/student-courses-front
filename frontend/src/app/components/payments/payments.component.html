<div class="payments-container">
  <h1>Payments Management</h1>

  <!-- Display error messages -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="loading">
    Loading...
  </div>

  <!-- Payments List -->
  <div class="payments-list">
    <h2>Payments List</h2>
    <ul>
      <li *ngFor="let payment of payments" class="payment-item">
        <p><strong>Teacher:</strong> {{ payment.teacher }}</p>
        <p><strong>Amount:</strong> {{ payment.amount }}</p>
        <p><strong>Status:</strong> {{ payment.paymentStatus }}</p>
        <p><strong>Method:</strong> {{ payment.paymentMethod }}</p>
        <p><strong>Notes:</strong> {{ payment.notes }}</p>
        <button (click)="editPayment(payment)">Edit</button>
        <button (click)="deletePayment(payment._id)">Delete</button>
      </li>
    </ul>
  </div>

  <!-- Create/Edit Payment Form -->
  <div class="payment-form">
    <h2>{{ isEditing ? 'Edit Payment' : 'Create Payment' }}</h2>
    <form (ngSubmit)="isEditing ? updatePayment() : createPayment()">
      <div>
        <label for="teacher">Teacher:</label>
        <input type="text" id="teacher" [(ngModel)]="formData.teacher" name="teacher" required />
      </div>
      <div>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" [(ngModel)]="formData.amount" name="amount" required />
      </div>
      <div>
        <label for="paymentStatus">Payment Status:</label>
        <select id="paymentStatus" [(ngModel)]="formData.paymentStatus" name="paymentStatus" required>
          <option value="pending">Pending</option>
          <option value="completed">Completed</option>
          <option value="failed">Failed</option>
        </select>
      </div>
      <div>
        <label for="paymentMethod">Payment Method:</label>
        <input type="text" id="paymentMethod" [(ngModel)]="formData.paymentMethod" name="paymentMethod" required />
      </div>
      <div>
        <label for="notes">Notes:</label>
        <textarea id="notes" [(ngModel)]="formData.notes" name="notes"></textarea>
      </div>
      <button type="submit">{{ isEditing ? 'Update Payment' : 'Create Payment' }}</button>
      <button type="button" (click)="cancelEdit()" *ngIf="isEditing">Cancel</button>
    </form>
  </div>
</div>
